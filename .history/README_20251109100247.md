# ğŸŒ Banana Blockchain: Transparent Supply Chain Ledger

## ğŸ“– Project Overview
The **Banana Blockchain** is a transparent, immutable ledger system designed to track produce â€” starting with bananas, but adaptable to any perishable goods â€” from **farm to retailer**.  
Every transfer and storage event is recorded on an **append-only**, **cryptographically secured** digital chain, restoring **trust** and **accountability** in the agricultural supply chain.

---

## âš ï¸ The Problem Space

### Lack of Trust & Traceability
Food supply chains are often fragmented.  
When a recall occurs or quality issues arise (e.g., bruising, temperature fluctuations), tracing the exact failure point is **slow**, **costly**, and sometimes **impossible**.  
Consumers increasingly demand visibility into the origins of their food.

### Data Volatility â€” â€œThe Etch A Sketch Server Problemâ€
Traditional systems rely on local databases that are easily **lost**, **corrupted**, or **isolated** from other participants (farm, truck, warehouse).  
Once a server resets, the data vanishes like a shaken Etch A Sketch.

---

## ğŸ’¡ The Solution: An Immutable, Stateless Ledger

The Banana Blockchain solves these issues using a **cryptographic ledger** backed by **Firebase Firestore** for persistence and transparency.

### Key Principles
- **Immutable Ledger:**  
  Each action (Harvest, Transfer, Store) creates a new ledger block linked to the previous one via **SHA-256 hashing**.  
  Any change invalidates the chain, instantly revealing tampering.

- **Decentralized Data:**  
  Firestore ensures that data persists independently of local servers â€” no more â€œEtch A Sketchâ€ resets.

- **Crate-Level Granularity:**  
  Each batch is tracked by **individual crate**, allowing detailed auditing and traceability beyond large batch identifiers.

---

## ğŸ§® Technical Features & Audit Logic

### ğŸ” Blockchain Integrity â€” `/api/batch/<id>/audit`

#### 1. Chain Confirmation (`confirm_chain`)
**Logic:**  
Recalculates each blockâ€™s hash from the Genesis Block to the latest.  
**Result:**  
Verifies that:
- Each blockâ€™s stored hash matches its recalculated hash.
- Each blockâ€™s `previous_hash` matches the actual hash of the prior block.  
If not, the chain has been **TAMPERED**.

#### 2. Haversine Geo-Audit (`haversine_audit_logic`)
**Logic:**  
Computes the distance and travel time between consecutive GPS coordinates.  
**Result:**  
Flags a **WARNING** if implied travel speed exceeds a realistic threshold (e.g., >1000 km/h), suggesting fraudulent or incorrect GPS entries.

---

## ğŸ§± Architecture Overview

| Layer | Technology | Purpose |
|-------|-------------|----------|
| **Frontend (F)** | React (JSX) | User Interface, Location services, Base64 PDF downloads |
| **Backend (B)** | Python, Flask, Gunicorn | API logic, hashing, and CORS handling |
| **Database (D)** | Firebase Firestore | Persistent, cloud-hosted NoSQL ledger |
| **File Handling** | Base64, FPDF | In-memory PDF streaming (prevents file loss) |

---

## ğŸš€ Running the Project

### 1. Backend Setup

Install Python dependencies:
```bash
pip install -r requirements.txt
Typical dependencies include:

nginx
Copy code
flask
flask-cors
firebase-admin
haversine
qrcode
reportlab
Pillow
gunicorn
2. Firebase & Secret Setup (CRITICAL)
Generate a Firebase Service Account Key:

Navigate to Project Settings â†’ Service Accounts â†’ Generate new private key in your Firebase Console.

Save Key File:

Save it as serviceAccountKey.json in your backend directory.

Deployment Security:

Do not push this file to GitHub.

In Render (or another host), copy the keyâ€™s contents into an Environment Secret named serviceAccountKey.json.

3. Running the Backend
Production (Gunicorn):

bash
Copy code
gunicorn app:app
Local Development:

bash
Copy code
flask run --port 5000
4. Running the Frontend
In your frontend directory:

bash
Copy code
npm install
npm run dev
Your React app will be served at:

arduino
Copy code
http://localhost:5174
ğŸŒ API Endpoints
Endpoint	Method	Description
/api/batch	POST	Creates a new batch in Firestore, generates Genesis Block, returns Base64 PDF data
/api/transfer	POST	Adds a new event (Transfer/Store) to the existing ledger
/api/batch/<id>/audit	GET	Performs cryptographic and Haversine audits
/api/batch/<id>	GET	Retrieves full historical ledger for a batch
/api/batch/hack	POST	Demonstrates tampering by modifying the Genesis Blockâ€™s actor name

ğŸ§¾ License & Notes
This project is for educational and demonstrative purposes.

Do not use real production keys or data unless properly secured.

Bananas are just the beginning â€” the same architecture supports any perishable supply chain.

ğŸŒ Summary
Banana Blockchain brings transparency, traceability, and tamper-resistance to supply chains.
By merging blockchain-style hashing with Firebaseâ€™s persistent NoSQL structure, it replaces opaque systems with verifiable data â€” from farm crate to grocery shelf.

pgsql
Copy code
